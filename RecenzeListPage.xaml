<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Bakalarka_Jelinek.RecenzeListPage"
             Title="Recenze">

    <Grid RowDefinitions="Auto,*,Auto" Padding="16">
        <Label x:Name="HeaderLabel"
           FontSize="20" FontAttributes="Bold" />

        <CollectionView x:Name="ReviewsList"
                    Grid.Row="1"
                    EmptyView="Zatím žádné recenze.">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Margin="0,8" Padding="12" CornerRadius="12" HasShadow="True">
                        <VerticalStackLayout Spacing="6">
                            <HorizontalStackLayout Spacing="8" VerticalOptions="Center">
                                <Label Text="{Binding Email}" FontAttributes="Bold" />
                                <Label Text="{Binding Stars}" TextColor="#E6B800" />
                                
                                <Label Text="{Binding DateFormatted}"
                       TextColor="#666" FontSize="12"/>
                            </HorizontalStackLayout>

                            <Label Text="{Binding ReviewText}" LineBreakMode="WordWrap"/>

                            
                            <Image IsVisible="{Binding HasPhoto}"
                     Source="{Binding PhotoSource}"
                     HeightRequest="180"
                     Aspect="AspectFill"/>
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Button Grid.Row="2"
            Text="Přidat recenzi"
            BackgroundColor="#6A0DAD" TextColor="White"
            CornerRadius="8"
            Clicked="OnAddReviewClicked"/>
    </Grid>
</ContentPage>
